<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10조 후발주자</title>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- bootstrap -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- css 공통 -->
    <link rel="stylesheet" href="./css/common.css" />

    <!-- FireStore(FireBase) -->
    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc, getDocs, deleteDoc, setDoc} from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // Firebase 구성 정보 설정
        const firebaseConfig = {
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            apiKey: "AIzaSyD4JNPmDgABE8WLbUEnGXWBGa_eAmlWKT0",
            authDomain: "latecomer-dda33.firebaseapp.com",
            projectId: "latecomer-dda33",
            storageBucket: "latecomer-dda33.appspot.com",
            messagingSenderId: "705225415850",
            appId: "1:705225415850:web:2e613c8147211b7f5c84d3",
            measurementId: "G-1H6HC43L8K"
        };

        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        //멤버 정보 가져오기
        let docs = await getDocs(collection(db, "member"));
        docs.forEach((doc) => {
            console.log(doc);
            let row = doc.data();
            let name = row['name'];
            let image = row['image'];
            let mbti = row['mbti'];
            let github = row['github'];
            let blog = row['blog'];
            let objective = row['objective'];
            let determination = row['determination'];

            let temp_html = `
            <div class="col">
                <div id="memberCard" class="card h-100" onclick="imageClick(this)">
                    <img src="${image}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 id="memeberName" class="card-title">${name}</span></h5>
                    </div>
                </div>
            </div>`;

            $('#memberCards').append(temp_html);
        });
    </script>
    <script>
        function imageClick(e){
            let elem = document.getElementById('memeberName').getHTML();
            $("#popup").css('display','flex').hide().fadeIn();
        }
    </script>
    <style>
        .memberMain{
            width: 1000px;
            margin: 300px auto 20px auto;
        }

        .card-title{
            text-align: center;
        }

        .popupWrap{
            background-color:rgba(0,0,0,.3); 
            justify-content:center;
            align-items:center;    
            position:fixed;        
            top:200px;
            left:0;
            right:0;
            bottom:0;               
            display:flex;
            padding:15px; 
            display:none;
            z-index: 1000;
        }
        .popup{
            width:100%;               
            max-width:50%;
            height: 80%;          
            border-radius:10px;       
            overflow:hidden;          
            background-color:#fbfbfb; 
            box-shadow: 5px 10px 10px 1px rgba(0,0,0,.3); 
        }

        .bodyContent {
            /* width: 100%; */
            height: 80%;
            margin: auto 20px auto 20px;

            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }

        .bodyContentBox1 {
            width: 40%;
            height: 100%;
        }

        .bodyContentBox2 {
            width: 60%;
            height: 100%;
            padding: 20px 0 0 20px;
        }

        .bodyContentBox1 > img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <!--Main Navigation-->
    <header>
        <!-- Sidebar / Left Menu -->
        <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
            <div class="position-sticky">
                <div class="list-group list-group-flush mx-3 mt-4">
                    <a href="index.html" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                        <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>팀 소개</span>
                    </a>
                    <a href="member.html" class="list-group-item list-group-item-action py-2 ripple active">
                        <i class="fas fa-chart-area fa-fw me-3"></i><span>멤버 소개</span>
                    </a>
                    <a href="guestbook.html" class="list-group-item list-group-item-action py-2 ripple"><i
                        class="fas fa-lock fa-fw me-3"></i><span>방명록</span></a>
                    </a>
                    <a href="dust.html" class="list-group-item list-group-item-action py-2 ripple"><i
                        class="fas fa-lock fa-fw me-3"></i><span>미세먼지</span></a>
                    </a>
                </div>
            </div>
        </nav>
        <!-- Sidebar -->
    
        <!-- Navbar / Header -->
        <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
            <!-- Container wrapper -->
            <div class="container-fluid">
                <div class="header">
                    <h1>멤버 소개</h1>
                </div>
            </div>
            <!-- Container wrapper -->
        </nav>
        <!-- Navbar -->
  </header>
  <!--Main Navigation-->
  
  <!--Main layout-->
    <main>
        <div class="main">
            <div class="memberMain">
                <div id="memberCards" class="row row-cols-1 row-cols-md-3 g-4">
                    <!-- DB에서 데이터 가져와서 멤버 정보 출력 -->
                </div>
            </div>
        </div>
    </main>

    <!--Main layout-->
    <div class="popupWrap" id="popup">
        <div class="popup">
            <!-- <div class="popup-head">
                <span class="head-title">Profile</span>
            </div> -->
            <div style="background-color: black; float: right; width: 100%; height: 35px; ">
                <button type="button" class="btn-close" aria-label="Close"></button>
            </div>
            <div class="body-titlebox" style="text-align: center; padding: 30px 0 0 0;">
                <h1>Profile</h1>
            </div>
            <div class="bodyContent">
                <div class="bodyContentBox1">
                    <img src="https://helpx.adobe.com/content/dam/help/en/photoshop/using/quick-actions/remove-background-before-qa1.png">
                </div>
                <div class="bodyContentBox2">
                    <p>이름</p>
                    <p>mbti</p>
                    <p>github</p>
                    <p>blog</p>
                    <p>목표</p>
                    <p>각오</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>